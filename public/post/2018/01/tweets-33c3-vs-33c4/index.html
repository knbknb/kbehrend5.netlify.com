<!-- post/single.html //-->
<!DOCTYPE html>
<html lang="en-us">
        <!-- post/header.html //-->
  <head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Comparing 33C3 and 34C3 tweets</title>
<meta name="description" content="Knut Behrends&#39; personal blog. A website built through Hugo and blogdown.">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="robots" content="all,follow">
<meta name="googlebot" content="index,follow,snippet,archive">

<link rel="stylesheet" href="/css/bootstrap.min.css">
<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Roboto:400,300,700,400italic">
<link rel="stylesheet" href="/css/font-awesome.min.css">
<link rel="stylesheet" href="/css/owl.carousel.css">
<link rel="stylesheet" href="/css/owl.theme.css">


  <link href="/css/style.green.css" rel="stylesheet" id="theme-stylesheet">

 

  
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
        <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  


<link href="/css/custom.css" rel="stylesheet">
<link rel="shortcut icon" href="/img/favicon/favicon.png">


<script>
window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
ga('create', 'UA-38728498-3', 'auto');
ga('send', 'pageview');
</script>
<script async src='//www.google-analytics.com/analytics.js'></script>


    
<link rel="apple-touch-icon" sizes="57x57" href="/img/favicon/apple-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="/img/favicon/apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="/img/favicon/apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="/img/favicon/apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="/img/favicon/apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="/img/favicon/apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="/img/favicon/apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="/img/favicon/apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="/img/favicon/apple-icon-180x180.png">
<link rel="icon" type="image/png" sizes="192x192"  href="/img/favicon/android-icon-192x192.png">
<link rel="icon" type="image/png" sizes="32x32" href="/img/favicon/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="96x96" href="/img/favicon/favicon-96x96.png">
<link rel="icon" type="image/png" sizes="16x16" href="/img/favicon/favicon-16x16.png">
<link rel="manifest" href="/img/favicon/manifest.json">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
<meta name="theme-color" content="#ffffff">

  </head>
  <body>
    <div class="wrapper">
      <header class="header">
              
<nav class="nav">

  <a href="/" class="nav-logo">
    
    <span class="nav-logo-medium"><img src="/img/logo-knutbehrends-square-circle.72x72.png" alt="brain-activity-logo" /></span>
    
    </a>
  <span class="sidebar-heading">
          <a href="/">Knut Behrends Personal Blog, v3</a>
  </span>
  <ul class="nav-links">
    
    <li><a href="/">Home</a></li>
    
    <li><a href="/post/">Blog</a></li>
    
    <li><a href="/about/">About</a></li>
    
    <li><a href="/contact/">Get in touch</a></li>
    
  </ul>
</nav>

      </header>


<link rel="apple-touch-icon" sizes="57x57" href="/img/favicon/apple-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="/img/favicon/apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="/img/favicon/apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="/img/favicon/apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="/img/favicon/apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="/img/favicon/apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="/img/favicon/apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="/img/favicon/apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="/img/favicon/apple-icon-180x180.png">
<link rel="icon" type="image/png" sizes="192x192"  href="/img/favicon/android-icon-192x192.png">
<link rel="icon" type="image/png" sizes="32x32" href="/img/favicon/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="96x96" href="/img/favicon/favicon-96x96.png">
<link rel="icon" type="image/png" sizes="16x16" href="/img/favicon/favicon-16x16.png">
<link rel="manifest" href="/img/favicon/manifest.json">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
<meta name="theme-color" content="#ffffff">





<link href='//cdn.bootcss.com/highlight.js/9.11.0/styles/github.min.css' rel='stylesheet' type='text/css' />




<main class="content" role="main">

  <article class="article">
    
    <span class="article-duration">3 min read</span>
    

    <h1 class="article-title">Comparing 33C3 and 34C3 tweets</h1>

    
    <span class="article-date">2018/01/07</span>
    

    <div class="article-content">
      <div id="preprocessing-and-simple-timeseries-plots" class="section level3">
<h3>Preprocessing and simple timeseries plots</h3>
<p>I really like the Chaos Communication Congress. I remember well how I discovered it: (TBC)</p>
<p>I’m not in the CCC. I like the live streams. Continued education is important. High Quality content for free.</p>
<div id="preprocessing" class="section level4">
<h4>Preprocessing</h4>
<p>Load the necessary R packages, and the datafiles.</p>
<pre class="r"><code>options(knitr.table.format = &quot;html&quot;) 
options(fig.width = 9) 
library(here)       # filesystem
library(stringr)    #
library(lubridate)  # dateformats
library(threejs)    # interactive plot
library(tidyverse)  #
library(igraph)     # network
library(jsonlite)   # JSON
library(kableExtra) # styled output
datadir &lt;- &quot;data/twitter&quot;
# (extracts from the full tweets data, explained below)
infile0 &lt;- here::here(datadir, &quot;33c3.created_at.json&quot;)
infile1 &lt;- here::here(datadir, &quot;34c3.created_at.json&quot;)
theme_set(theme_bw())
# read in simple JSON files, simplifyVector converts to data frames
tweets33c3 &lt;- read_json(infile0, simplifyVector = TRUE) %&gt;% 
        mutate(event = &quot;33c3&quot;)
tweets34c3 &lt;- read_json(infile1, simplifyVector = TRUE) %&gt;% 
        mutate(event = &quot;34c3&quot;)</code></pre>
<p>For 34C3, the harvesting script was not able to extract all tweets as syntactically valid JSON files. I have not figured out exactly what was wrong. It seems that many tweets were nested inside each other, but the nesting occured always on a single line. There were so many garbage tweets that it was impossible to remove them all manually.</p>
<p>So, what did the JSON look like? <em>Not</em> like this:</p>
<pre><code>tweet1
tweet2
tweet3
tweet4</code></pre>
<p>…but like this:</p>
<pre><code>tweet1_tweet2fragment1
tweet2fragment2
tweet3
tweet4</code></pre>
<p>Using a series of shell commands and pipelines, I tried my best to recover the first tweet from each line, discarding the fragmented JSON object of tweet 2. This recovery step might produce duplicated tweets for some reason.</p>
<pre><code>tweet1
tweet1
fragment2
tweet3
tweet4</code></pre>
<p>Thus I had to further preprocess the tweets with a command similar to this pipe:</p>
<pre><code>grep  &quot;^{\&quot;created_at&quot; stream__34c3.id_date_text.json | 
   uniq &gt; 34c3.created_at.json`</code></pre>
<p>Valid tweets always start with ‘created_at’, at the beginning of the line.</p>
<ul>
<li>keep these</li>
<li>remove duplicated tweets</li>
</ul>
<p>Convert dates to strings, group them into day-of-month, and hours-of-day:</p>
<pre class="r"><code>tweetdates &lt;- bind_rows(tweets33c3, tweets34c3)
# rstats_tweettimes.txt:  &quot;Sun Jul 10 08:14:23 +0000 2016&quot;
tweetdates &lt;- tweetdates %&gt;% 
        mutate(dt = str_replace(dt, &quot;\\+0000 &quot;, &quot;&quot;),
               dt = str_replace(dt, &quot;^\\w+ &quot;, &quot;&quot;),
               dt = parse_date_time(dt, orders = c(&quot;b d  H:M:S Y&quot;)),
               y_m_d = format(dt, &quot;%Y-%m-%d&quot;),
               day = day(dt),
               hour = hour(dt), 
               year= year(dt))</code></pre>
<p>Tweets gathered during the two events:</p>
<table class="table table-striped">
<thead>
<tr>
<th style="text-align:left;">
Event
</th>
<th style="text-align:left;">
From
</th>
<th style="text-align:left;">
To
</th>
<th style="text-align:center;">
Num Tweets
</th>
<th style="text-align:center;">
Median Length of text
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
33c3
</td>
<td style="text-align:left;">
2016-12-27
</td>
<td style="text-align:left;">
2017-01-01
</td>
<td style="text-align:center;">
37089
</td>
<td style="text-align:center;">
120
</td>
</tr>
<tr>
<td style="text-align:left;">
34c3
</td>
<td style="text-align:left;">
2017-12-21
</td>
<td style="text-align:left;">
2018-01-02
</td>
<td style="text-align:center;">
48709
</td>
<td style="text-align:center;">
127
</td>
</tr>
</tbody>
</table>
<p>Each tweet contains about 2500 characters. This might surprise you, because a tweet used to be 140 characters in length, until Twitter increased it to 280 characters in 2017. But a tweet contains a lot of metadata, and this makes a tweet exceed 2000 characters when serialized to a compact JSON string (<em>not</em> pretty-printed).</p>
</div>
<div id="plot-activity-over-time" class="section level4">
<h4>Plot: Activity over time</h4>
<p>This plot compares user activity on twitter during the 2 conferences, one year apart:</p>
<p><img src="/post/2018-01-07-comparing-33c3-and-34c3-tweets_files/figure-html/plot1-1.png" width="864" /></p>
<p>For the the 33C3 I’ve started gathering tweets later (on the 27th) and finished earlier. The 34C3 congress had 15000 visitors, much more than 33C3 (<a href="https://de.wikipedia.org/wiki/Chaos_Communication_Congress#Kongress-Mottos_und_Veranstaltungsorte_1984_bis_heute">12000 participants</a>), but absolute count of tweets per hour seems to be lower in 2017.</p>
<ul>
<li>Maybe Twitter has become less popular among the visitors?</li>
<li>Maybe my preprocessing script was too aggressive in cleaning up things.</li>
<li>Maybe the Twitter streaming API works differently?</li>
</ul>
</div>
</div>
<div id="extra-plot" class="section level2">
<h2>Extra plot</h2>
<p>This plot shows that there was some user activity on Twitter even before the 34c4 started, and after it ended.</p>
<p><img src="/post/2018-01-07-comparing-33c3-and-34c3-tweets_files/figure-html/plotextra1-1.png" width="864" /></p>
</div>

    </div>
  </article>

  

</main>


<!-- layouts/partials/footer.html //-->
      <footer class="footer">
        <ul class="footer-links">
          <li>
            <a href="/index.xml" type="application/rss+xml" target="_blank">RSS feed</a>
          </li>
        </ul>
        
        <script async src="https://www.googletagmanager.com/gtag/js?id=UA-38728498-3"></script>


      </footer>

  
  




<script src="//cdn.bootcss.com/highlight.js/9.11.0/highlight.min.js"></script>



<script src="//cdn.bootcss.com/highlight.js/9.11.0/languages/r.min.js"></script>
<script src="//cdn.bootcss.com/highlight.js/9.11.0/languages/yaml.min.js"></script>
<script>hljs.configure({languages: []}); hljs.initHighlightingOnLoad();</script>



  
<script src="/js/math-code.js"></script>
<script async src="//cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script>



<script src="/js/jquery.min.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/jquery.cookie.js"> </script>
<script src="/js/ekko-lightbox.js"></script>
<script src="/js/jquery.scrollTo.min.js"></script>
<script src="/js/masonry.pkgd.min.js"></script>
<script src="/js/imagesloaded.pkgd.min.js"></script>
<script src="/js/owl.carousel.min.js"></script>
<script src="/js/front.js"></script>
<script src="/js/motto-fragments.js"></script>
<script src="/js/math-code.js"></script>
<script src="/js/modify-css.js"></script>

</body>
</html>
---
title: Imputing Blood Pressure Data
author: Knut Behrends
date: 2018-02-12
slug: bloodpressure-imputing
categories: [health]
tags: [health, medicine, variable-imputation]
draft: yes
output:
  html_document:
    toc: no
    css: styles.css
    fig_caption: yes
    keep_md: no
image: /static/img/post/thumb/lasso-1-350.png
banner: img/post/thumb/lasso-1-150.png
summary: ''
keywords:
  - personal-Blog
  - rstats
  - health
---



<div id="feature-engineering-and-variable-imputation" class="section level4">
<h4>Feature engineering and variable imputation</h4>
<div class="alert alert-info"><b>Playing with multi-variable imputation on anonymized data from 10000 people representing the general US Population</b>. 
This is not a tutorial, but more a personal learning experience, and work in progress.
<div>
This blogpost contains preprocessing steps for another following blogpost about lasso-regression.
<br>
At this time, imputation is done incorrectly here, I know that.
</div></div>
<p>This is a follow-up to <a href="/post/2018/02/bloodpressure-nhanes">an exploratory data-analysis post</a> of mine. When I was nearly done with writing that post, some new questions came to my mind.</p>
<p>Here I’ll continue with preprocessing. More basically, can I determine some other variables (out of the 76) that are also influencing the Blood Pressure in some way?</p>
<p>I am not trying to do groundbreaking medical research here. Hey I’m just a blogger, playing with a dataset for personal entertainment, trying out some of those fancy Machine Learning algorithms that I encountered during MOOC homework assignments. This time I’ll try these techniques out on a larger dataset that <em>I</em> find interesting.</p>
<p>Attribute selection and variable imputation are a topic worth studying, especially on a more complex dataset as the NHANES data.</p>
</div>
<div id="the-nhanes-dataset" class="section level4">
<h4>The NHANES dataset</h4>
<p>NHANES is the US National Health and Nutrition Examination Study. It is a carefully curated, larger medical survey aiming to get a representative sample of the general US population. The survey is carried out periodically.</p>
<p>The <a href="https://www.cdc.gov/nchs/nhanes/participant_video.htm"><em>NHANES</em> dataset</a> is available as an R package on <a href="https://cran.r-project.org/package=NHANES">CRAN</a>. I have used package version 2.1.0, specifically “NHANES 2009-2012 with adjusted weighting”.</p>
<p>Table 1 shows the column names and further below, and in table 5, are some other important metadata of the NHANES dataset.</p>
<p>This dataset contains data from two collection periods, 2009-2010 and 2011-2012. Some attributes weres collected during period 1, but not in period 2, or they were collected in different ways. Therefore the dataset contains many NULL values just because of this. Moreover many attributes, such as “head circumference”, were only collected for babies and children.</p>
</div>
<div id="feature-engineering" class="section level4">
<h4>Feature Engineering</h4>
<p>These are the feature selection steps I will apply. Some attributes are redundant, for exaample age-in-years, age-in-months and age-decade. Many blood-pressure values are redundant; keep only the average value. First, remove attributes that were collected for babies, children and generally people less than 20 years of age. This leads to the selection of columns, marked by me as “drop” in Table 1 below.</p>
<table class="table table-striped table-hover" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:tabledef">Table 1: </span>Column names in NHANES data set, and columns that will be dropped
</caption>
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:left;">
Column
</th>
<th style="text-align:left;">
Meaning
</th>
<th style="text-align:left;">
Action
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
1
</td>
<td style="text-align:left;">
SurveyYr
</td>
<td style="text-align:left;">
Which survey the participant participated in.
</td>
<td style="text-align:left;">
drop
</td>
</tr>
<tr>
<td style="text-align:left;">
2
</td>
<td style="text-align:left;">
ID
</td>
<td style="text-align:left;">
Participant identifier.
</td>
<td style="text-align:left;">
drop
</td>
</tr>
<tr>
<td style="text-align:left;">
3
</td>
<td style="text-align:left;">
Gender
</td>
<td style="text-align:left;">
Gender (sex) of study participant coded as male or female
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
4
</td>
<td style="text-align:left;">
Age
</td>
<td style="text-align:left;">
Age in years at screening of study participant. Note: Subjects 80 years or older were recorded as 80.
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
5
</td>
<td style="text-align:left;">
AgeDecade
</td>
<td style="text-align:left;">
Categorical variable derived from age with levels 0-9, 10-19, … 70+
</td>
<td style="text-align:left;">
drop
</td>
</tr>
<tr>
<td style="text-align:left;">
6
</td>
<td style="text-align:left;">
AgeMonths
</td>
<td style="text-align:left;">
Age in months at screening of study participant. Reported for participants aged 0 to 79 years for 2009 to 2010 data Reported for participants aged 0 to 2 years for 2011 to 2012 data.
</td>
<td style="text-align:left;">
drop
</td>
</tr>
<tr>
<td style="text-align:left;">
7
</td>
<td style="text-align:left;">
Race1
</td>
<td style="text-align:left;">
Reported race of study participant: Mexican, Hispanic, White, Black, or Other.
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
8
</td>
<td style="text-align:left;">
Race3
</td>
<td style="text-align:left;">
Reported race of study participant, including non-Hispanic Asian category: Mexican, Hispanic, White, Black, Asian, or Other. Not availale for 2009-10.
</td>
<td style="text-align:left;">
drop
</td>
</tr>
<tr>
<td style="text-align:left;">
9
</td>
<td style="text-align:left;">
Education
</td>
<td style="text-align:left;">
Educational level of study participant Reported for participants aged 20 years or older. One of 8thGrade, 9-11thGrade, HighSchool, SomeCollege, or CollegeGrad.
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
10
</td>
<td style="text-align:left;">
MaritalStatus
</td>
<td style="text-align:left;">
Marital status of study participant. Reported for participants aged 20 years or older. One of Married, Widowed, Divorced, Separated, NeverMarried, or LivePartner (living with partner).
</td>
<td style="text-align:left;">
drop
</td>
</tr>
<tr>
<td style="text-align:left;">
11
</td>
<td style="text-align:left;">
HHIncome
</td>
<td style="text-align:left;">
Total annual gross income for the household in US dollars. One of 0 - 4999, 5000 - 9,999, 10000 - 14999, 15000 - 19999, 20000 - 24,999, 25000 - 34999, 35000 - 44999, 45000 - 54999, 55000 - 64999, 65000 - 74999, 75000 - 99999, or 100000 or More.
</td>
<td style="text-align:left;">
drop
</td>
</tr>
<tr>
<td style="text-align:left;">
12
</td>
<td style="text-align:left;">
HHIncomeMid
</td>
<td style="text-align:left;">
Numerical version of HHIncome derived from the middle income in each category
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
13
</td>
<td style="text-align:left;">
Poverty
</td>
<td style="text-align:left;">
A ratio of family income to poverty guidelines. Smaller numbers indicate more poverty
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
HomeRooms
</td>
<td style="text-align:left;">
How many rooms are in home of study participant (counting kitchen but not bathroom). 13 rooms = 13 or more rooms.
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
15
</td>
<td style="text-align:left;">
HomeOwn
</td>
<td style="text-align:left;">
One of Home, Rent, or Other indicating whether the home of study participant or someone in their family is owned, rented or occupied by some other arrangement.
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
16
</td>
<td style="text-align:left;">
Weight
</td>
<td style="text-align:left;">
Weight in kg
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
17
</td>
<td style="text-align:left;">
Length
</td>
<td style="text-align:left;">
Recumbent length in cm. Reported for participants aged 0 - 3 years.
</td>
<td style="text-align:left;">
drop
</td>
</tr>
<tr>
<td style="text-align:left;">
18
</td>
<td style="text-align:left;">
HeadCirc
</td>
<td style="text-align:left;">
Head circumference in cm. Reported for participants aged 0 years (0 - 6 months).
</td>
<td style="text-align:left;">
drop
</td>
</tr>
<tr>
<td style="text-align:left;">
19
</td>
<td style="text-align:left;">
Height
</td>
<td style="text-align:left;">
Standing height in cm. Reported for participants aged 2 years or older.
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
20
</td>
<td style="text-align:left;">
BMI
</td>
<td style="text-align:left;">
Body mass index (weight/height2 in kg/m2). Reported for participants aged 2 years or older.
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
21
</td>
<td style="text-align:left;">
BMICatUnder20yrs
</td>
<td style="text-align:left;">
Body mass index category. Reported for participants aged 2 to 19 years. One of UnderWeight (BMI &lt; 5th percentile) NormWeight (BMI 5th to &lt; 85th percentile), OverWeight (BMI 85th to &lt; 95th percentile), Obese (BMI &gt;= 95th percentile).
</td>
<td style="text-align:left;">
drop
</td>
</tr>
<tr>
<td style="text-align:left;">
22
</td>
<td style="text-align:left;">
BMI_WHO
</td>
<td style="text-align:left;">
Body mass index category. Reported for participants aged 2 years or older. One of 12.0_18.4, 18.5_24.9, 25.0_29.9, or 30.0_plus.
</td>
<td style="text-align:left;">
drop
</td>
</tr>
<tr>
<td style="text-align:left;">
23
</td>
<td style="text-align:left;">
Pulse
</td>
<td style="text-align:left;">
60 second pulse rate
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
24
</td>
<td style="text-align:left;">
BPSysAve
</td>
<td style="text-align:left;">
Combined systolic blood pressure reading, following the procedure outlined for BPXSAR.
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
25
</td>
<td style="text-align:left;">
BPDiaAve
</td>
<td style="text-align:left;">
Combined diastolic blood pressure reading, following the procedure outlined for BPXDAR.
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
26
</td>
<td style="text-align:left;">
BPSys1
</td>
<td style="text-align:left;">
Systolic blood pressure in mm Hg – first reading
</td>
<td style="text-align:left;">
drop
</td>
</tr>
<tr>
<td style="text-align:left;">
27
</td>
<td style="text-align:left;">
BPDia1
</td>
<td style="text-align:left;">
Diastolic blood pressure in mm Hg – second reading (consecutive readings)
</td>
<td style="text-align:left;">
drop
</td>
</tr>
<tr>
<td style="text-align:left;">
28
</td>
<td style="text-align:left;">
BPSys2
</td>
<td style="text-align:left;">
Systolic blood pressure in mm Hg – second reading (consecutive readings)
</td>
<td style="text-align:left;">
drop
</td>
</tr>
<tr>
<td style="text-align:left;">
29
</td>
<td style="text-align:left;">
BPDia2
</td>
<td style="text-align:left;">
Diastolic blood pressure in mm Hg – second reading
</td>
<td style="text-align:left;">
drop
</td>
</tr>
<tr>
<td style="text-align:left;">
30
</td>
<td style="text-align:left;">
BPSys3
</td>
<td style="text-align:left;">
Systolic blood pressure in mm Hg third reading (consecutive readings)
</td>
<td style="text-align:left;">
drop
</td>
</tr>
<tr>
<td style="text-align:left;">
31
</td>
<td style="text-align:left;">
BPDia3
</td>
<td style="text-align:left;">
Diastolic blood pressure in mm Hg – third reading (consecutive readings)
</td>
<td style="text-align:left;">
drop
</td>
</tr>
<tr>
<td style="text-align:left;">
32
</td>
<td style="text-align:left;">
Testosterone
</td>
<td style="text-align:left;">
Testerone total (ng/dL). Reported for participants aged 6 years or older. Not available for 2009-2010.
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
33
</td>
<td style="text-align:left;">
DirectChol
</td>
<td style="text-align:left;">
Direct HDL cholesterol in mmol/L. Reported for participants aged 6 years or older.
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
34
</td>
<td style="text-align:left;">
TotChol
</td>
<td style="text-align:left;">
Total HDL cholesterol in mmol/L. Reported for participants aged 6 years or older.
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
35
</td>
<td style="text-align:left;">
UrineVol1
</td>
<td style="text-align:left;">
Urine volume in mL – first test. Reported for participants aged 6 years or older.
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
36
</td>
<td style="text-align:left;">
UrineFlow1
</td>
<td style="text-align:left;">
Urine flow rate (urine volume/time since last urination) in mL/min – first test. Reported for participants aged 6 years or older.
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
37
</td>
<td style="text-align:left;">
UrineVol2
</td>
<td style="text-align:left;">
Urine volume in mL – second test. Reported for participants aged 6 years or older.
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
38
</td>
<td style="text-align:left;">
UrineFlow2
</td>
<td style="text-align:left;">
Urine flow rate (urine volume/time since last urination) in mL/min – second test. Reported for participants aged 6 years or older.
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
39
</td>
<td style="text-align:left;">
Diabetes
</td>
<td style="text-align:left;">
Study participant told by a doctor or health professional that they have diabetes. Reported for participants aged 1 year or older as Yes or No.
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
40
</td>
<td style="text-align:left;">
DiabetesAge
</td>
<td style="text-align:left;">
Age of study participant when first told they had diabetes. Reported for participants aged 1 year or older.
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
41
</td>
<td style="text-align:left;">
HealthGen
</td>
<td style="text-align:left;">
Self-reported rating of participant’s health in general Reported for participants aged 12 years or older. One of Excellent, Vgood, Good, Fair, or Poor.
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
42
</td>
<td style="text-align:left;">
DaysPhysHlthBad
</td>
<td style="text-align:left;">
Self-reported number of days participant’s physical health was not good out of the past 30 days. Reported for participants aged 12 years or older.
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
43
</td>
<td style="text-align:left;">
DaysMentHlthBad
</td>
<td style="text-align:left;">
Self-reported number of days participant’s mental health was not good out of the past 30 days. Reported for participants aged 12 years or older.
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
44
</td>
<td style="text-align:left;">
LittleInterest
</td>
<td style="text-align:left;">
Self-reported number of days where participant had little interest in doing things. Reported for participants aged 18 years or older. One of None, Several, Majority (more than half the days), or AlmostAll.
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
45
</td>
<td style="text-align:left;">
Depressed
</td>
<td style="text-align:left;">
Self-reported number of days where participant felt down, depressed or hopeless. Reported for participants aged 18 years or older. One of None, Several, Majority (more than half the days), or AlmostAll.
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
46
</td>
<td style="text-align:left;">
nPregnancies
</td>
<td style="text-align:left;">
How many times participant has been pregnant. Reported for female participants aged 20 years or older.
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
47
</td>
<td style="text-align:left;">
nBabies
</td>
<td style="text-align:left;">
How many of participants deliveries resulted in live births. Reported for female participants aged 20 years or older.
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
48
</td>
<td style="text-align:left;">
PregnantNow
</td>
<td style="text-align:left;">
Pregnancy status at the time of the health examination was ascertained for females 8-59 years of age. Due to disclosure risks pregnancy status was only be released for women 20-44 years of age. The information used included urine pregnancy test results and self-reported pregnancy status. Urine pregnancy tests were performed prior to the dual energy x-ray absorptiometry (DXA) exam. Persons who reported they were pregnant at the time of exam were assumed to be pregnant. As a result, if the urine test was negative, but the subject reported they were pregnant, the status was coded as Yes“. If the urine pregnancy results were negative and the respondent stated that they were not pregnant, the respondent was coded as”No&quot; If the urine pregnancy results were negative and the respondent did not know her pregnancy status, the respondent was coded “unknown” Persons who were interviewed, but not examined also have a value of “unknown”. In addition there are missing values.
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
49
</td>
<td style="text-align:left;">
Age1stBaby
</td>
<td style="text-align:left;">
Age of participant at time of first live birth. 14 years or under = 14, 45 years or older = 45. Reported for female participants aged 20 years or older.
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
50
</td>
<td style="text-align:left;">
SleepHrsNight
</td>
<td style="text-align:left;">
Self-reported number of hours study participant usually gets at night on weekdays or workdays. Reported for participants aged 16 years and older.
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
51
</td>
<td style="text-align:left;">
SleepTrouble
</td>
<td style="text-align:left;">
Participant has told a doctor or other health professional that they had trouble sleeping. Reported for participants aged 16 years and older. Coded as Yes or No.
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
52
</td>
<td style="text-align:left;">
PhysActive
</td>
<td style="text-align:left;">
Participant does moderate or vigorous-intensity sports, fitness or recreational activities (Yes or No). Reported for participants 12 years or older.
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
53
</td>
<td style="text-align:left;">
PhysActiveDays
</td>
<td style="text-align:left;">
Number of days in a typical week that participant does moderate or vigorous-intensity activity. Reported for participants 12 years or older.
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
54
</td>
<td style="text-align:left;">
TVHrsDay
</td>
<td style="text-align:left;">
Number of hours per day on average participant watched TV over the past 30 days. Reported for participants 2 years or older. One of 0_to_1hr, 1_hr, 2_hr, 3_hr, 4_hr, More_4_hr. Not available 2009-2010.
</td>
<td style="text-align:left;">
drop
</td>
</tr>
<tr>
<td style="text-align:left;">
55
</td>
<td style="text-align:left;">
CompHrsDay
</td>
<td style="text-align:left;">
Number of hours per day on average participant used a computer or gaming device over the past 30 days. Reported for participants 2 years or older. One of 0_hrs, 0_to_1hr, 1_hr, 2_hr, 3_hr, 4_hr, More_4_hr. Not available 2009-2010.
</td>
<td style="text-align:left;">
drop
</td>
</tr>
<tr>
<td style="text-align:left;">
56
</td>
<td style="text-align:left;">
TVHrsDayChild
</td>
<td style="text-align:left;">
Number of hours per day on average participant watched TV over the past 30 days. Reported for participants 2 to 11 years. Not available 2011-2012.
</td>
<td style="text-align:left;">
drop
</td>
</tr>
<tr>
<td style="text-align:left;">
57
</td>
<td style="text-align:left;">
CompHrsDayChild
</td>
<td style="text-align:left;">
Number of hours per day on average participant used a computer or gaming device over the past 30 days. Reported for participants 2 to 11 years old. Not available 2011-2012.
</td>
<td style="text-align:left;">
drop
</td>
</tr>
<tr>
<td style="text-align:left;">
58
</td>
<td style="text-align:left;">
Alcohol12PlusYr
</td>
<td style="text-align:left;">
Participant has consumed at least 12 drinks of any type of alcoholic beverage in any one year. Reported for participants 18 years or older as Yes or No.
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
59
</td>
<td style="text-align:left;">
AlcoholDay
</td>
<td style="text-align:left;">
Average number of drinks consumed on days that participant drank alcoholic beverages. Reported for participants aged 18 years or older.
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
60
</td>
<td style="text-align:left;">
AlcoholYear
</td>
<td style="text-align:left;">
Estimated number of days over the past year that participant drank alcoholic beverages. Reported for participants aged 18 years or older.
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
61
</td>
<td style="text-align:left;">
SmokeNow
</td>
<td style="text-align:left;">
Study participant currently smokes cigarettes regularly. Reported for participants aged 20 years or older as Yes or No, provieded they answered Yes to having somked 100 or more cigarettes in their life time. All subjects who have not smoked 100 or more cigarettes are listed as NA here.
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
62
</td>
<td style="text-align:left;">
Smoke100
</td>
<td style="text-align:left;">
Study participant has smoked at least 100 cigarettes in their entire life. Reported for participants aged 20 years or older as Yes or No.
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
63
</td>
<td style="text-align:left;">
SmokeAge
</td>
<td style="text-align:left;">
Age study participant first started to smoke cigarettes fairly regularly. Reported for participants aged 20 years or older.
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
64
</td>
<td style="text-align:left;">
Marijuana
</td>
<td style="text-align:left;">
Participant has tried marijuana. Reported for participants aged 18 to 59 years as Yes or No.
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
65
</td>
<td style="text-align:left;">
RegularMarij
</td>
<td style="text-align:left;">
Participant has been/is a regular marijuana user (used at least once a month for a year). Reported for participants aged 18 to 59 years as Yes or No.
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
66
</td>
<td style="text-align:left;">
AgeRegMarij
</td>
<td style="text-align:left;">
Age of participant when first started regularly using marijuana. Reported for participants aged 18 to 59 years.
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
67
</td>
<td style="text-align:left;">
HardDrugs
</td>
<td style="text-align:left;">
Participant has tried cocaine, crack cocaine, heroin or methamphetamine. Reported for participants aged 18 to 69 years as Yes or No.
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
68
</td>
<td style="text-align:left;">
SexEver
</td>
<td style="text-align:left;">
Participant had had vaginal, anal, or oral sex. Reported for participants aged 18 to 69 years as Yes or No.
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
69
</td>
<td style="text-align:left;">
SexAge
</td>
<td style="text-align:left;">
Age of participant when had sex for the first time. Reported for participants aged 18 to 69 years.
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
70
</td>
<td style="text-align:left;">
SexNumPartnLife
</td>
<td style="text-align:left;">
Number of opposite sex partners participant has had any kind of sex with over their lifetime. Reported for participants aged 18 to 69 years.
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
71
</td>
<td style="text-align:left;">
SexNumPartYear
</td>
<td style="text-align:left;">
Number of opposite sex partners participant has had any kind of sex with over the past 12 months. Reported for participants aged 18 to 59 years.
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
72
</td>
<td style="text-align:left;">
SameSex
</td>
<td style="text-align:left;">
Participant has had any kind of sex with a same sex partner. Reported for participants aged 18 to 69 years ad Yes or No.
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
73
</td>
<td style="text-align:left;">
SexOrientation
</td>
<td style="text-align:left;">
participant’s sexual orientation (self-described). Reported for participants aged 18 to 59 years. One of Heterosexual, Homosexual, Bisexual.
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
74
</td>
<td style="text-align:left;">
WTINT2YR, WTMEC2YR, SDMVPSU, SDMVSTRA
</td>
<td style="text-align:left;">
<p>Sample weighting variables. For more details see one of the following.</p>
<p><a href="http://www.cdc.gov/Nchs/tutorials/environmental/orientation/sample_design/index.htm" class="uri">http://www.cdc.gov/Nchs/tutorials/environmental/orientation/sample_design/index.htm</a></p>
<p><a href="http://www.cdc.gov/nchs/nhanes/nhanes2009-2010/DEMO_F.htm#WTINT2YR" class="uri">http://www.cdc.gov/nchs/nhanes/nhanes2009-2010/DEMO_F.htm#WTINT2YR</a> and</p>
<a href="http://www.cdc.gov/nchs/nhanes/nhanes2011-2012/DEMO_G.htm#WTINT2YR" class="uri">http://www.cdc.gov/nchs/nhanes/nhanes2011-2012/DEMO_G.htm#WTINT2YR</a>
</td>
<td style="text-align:left;">
drop
</td>
</tr>
</tbody>
</table>
<p>These are the remaining columns in the NHANES dataset and the number of NA values in each column, respectively:</p>
<table class="table table-striped table-hover" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:nmissing">Table 2: </span>Column names in NHANES data set, after removal of redundant and inapplicable columns, and number of NAs. (PregnantNow is the most extreme example, and is kept on purpose.
</caption>
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:left;">
Column Name
</th>
<th style="text-align:right;">
Number of NAs
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
1
</td>
<td style="text-align:left;">
Gender
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
2
</td>
<td style="text-align:left;">
Age
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
3
</td>
<td style="text-align:left;">
Race1
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
4
</td>
<td style="text-align:left;">
Education
</td>
<td style="text-align:right;">
14
</td>
</tr>
<tr>
<td style="text-align:left;">
5
</td>
<td style="text-align:left;">
HHIncomeMid
</td>
<td style="text-align:right;">
603
</td>
</tr>
<tr>
<td style="text-align:left;">
6
</td>
<td style="text-align:left;">
Poverty
</td>
<td style="text-align:right;">
537
</td>
</tr>
<tr>
<td style="text-align:left;">
7
</td>
<td style="text-align:left;">
HomeRooms
</td>
<td style="text-align:right;">
55
</td>
</tr>
<tr>
<td style="text-align:left;">
8
</td>
<td style="text-align:left;">
HomeOwn
</td>
<td style="text-align:right;">
49
</td>
</tr>
<tr>
<td style="text-align:left;">
9
</td>
<td style="text-align:left;">
Work
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
10
</td>
<td style="text-align:left;">
Weight
</td>
<td style="text-align:right;">
57
</td>
</tr>
<tr>
<td style="text-align:left;">
11
</td>
<td style="text-align:left;">
Height
</td>
<td style="text-align:right;">
53
</td>
</tr>
<tr>
<td style="text-align:left;">
12
</td>
<td style="text-align:left;">
BMI
</td>
<td style="text-align:right;">
63
</td>
</tr>
<tr>
<td style="text-align:left;">
13
</td>
<td style="text-align:left;">
Pulse
</td>
<td style="text-align:right;">
254
</td>
</tr>
<tr>
<td style="text-align:left;">
14
</td>
<td style="text-align:left;">
BPSysAve
</td>
<td style="text-align:right;">
264
</td>
</tr>
<tr>
<td style="text-align:left;">
15
</td>
<td style="text-align:left;">
BPDiaAve
</td>
<td style="text-align:right;">
264
</td>
</tr>
<tr>
<td style="text-align:left;">
16
</td>
<td style="text-align:left;">
DirectChol
</td>
<td style="text-align:right;">
390
</td>
</tr>
<tr>
<td style="text-align:left;">
17
</td>
<td style="text-align:left;">
TotChol
</td>
<td style="text-align:right;">
390
</td>
</tr>
<tr>
<td style="text-align:left;">
18
</td>
<td style="text-align:left;">
UrineVol1
</td>
<td style="text-align:right;">
97
</td>
</tr>
<tr>
<td style="text-align:left;">
19
</td>
<td style="text-align:left;">
UrineFlow1
</td>
<td style="text-align:right;">
489
</td>
</tr>
<tr>
<td style="text-align:left;">
20
</td>
<td style="text-align:left;">
Diabetes
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
21
</td>
<td style="text-align:left;">
HealthGen
</td>
<td style="text-align:right;">
757
</td>
</tr>
<tr>
<td style="text-align:left;">
22
</td>
<td style="text-align:left;">
DaysPhysHlthBad
</td>
<td style="text-align:right;">
764
</td>
</tr>
<tr>
<td style="text-align:left;">
23
</td>
<td style="text-align:left;">
DaysMentHlthBad
</td>
<td style="text-align:right;">
762
</td>
</tr>
<tr>
<td style="text-align:left;">
24
</td>
<td style="text-align:left;">
LittleInterest
</td>
<td style="text-align:right;">
798
</td>
</tr>
<tr>
<td style="text-align:left;">
25
</td>
<td style="text-align:left;">
Depressed
</td>
<td style="text-align:right;">
794
</td>
</tr>
<tr>
<td style="text-align:left;">
26
</td>
<td style="text-align:left;">
SleepHrsNight
</td>
<td style="text-align:right;">
17
</td>
</tr>
<tr>
<td style="text-align:left;">
27
</td>
<td style="text-align:left;">
SleepTrouble
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
28
</td>
<td style="text-align:left;">
PhysActive
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
29
</td>
<td style="text-align:left;">
Alcohol12PlusYr
</td>
<td style="text-align:right;">
772
</td>
</tr>
<tr>
<td style="text-align:left;">
30
</td>
<td style="text-align:left;">
Smoke100
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
31
</td>
<td style="text-align:left;">
Smoke100n
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
32
</td>
<td style="text-align:left;">
PregnantNow
</td>
<td style="text-align:right;">
5539
</td>
</tr>
</tbody>
</table>
</div>
<div id="variable-imputation" class="section level4">
<h4>Variable imputation</h4>
<p>Imputation is done with the <a href="http://stefvanbuuren.github.io/mice/">MICE method</a>: “Multiple Imputation by Chained Equations”.</p>
<p>The MICE method removes all NA values by guessing intelligently. Here I have called the <code>mice()</code> function with default parameters. This is why it created nonsensical values in places, e.g. pregnant fathers., see below.</p>
<table>
<caption>
<span id="tab:pregnant">Table 3: </span>Column ‘PregnantNow’, Before Imputation:
</caption>
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
Yes
</th>
<th style="text-align:right;">
No
</th>
<th style="text-align:right;">
Unknown
</th>
<th style="text-align:right;">
NA
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
female
</td>
<td style="text-align:right;">
72
</td>
<td style="text-align:right;">
1573
</td>
<td style="text-align:right;">
51
</td>
<td style="text-align:right;">
1987
</td>
</tr>
<tr>
<td style="text-align:left;">
male
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
3552
</td>
</tr>
<tr>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
</tr>
</tbody>
</table>
<table>
<caption>
<span id="tab:pregnant2">Table 4: </span>Column ‘PregnantNow’, After Imputation:
</caption>
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
Yes
</th>
<th style="text-align:right;">
No
</th>
<th style="text-align:right;">
Unknown
</th>
<th style="text-align:right;">
NA
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
female
</td>
<td style="text-align:right;">
362
</td>
<td style="text-align:right;">
2930
</td>
<td style="text-align:right;">
391
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
male
</td>
<td style="text-align:right;">
197
</td>
<td style="text-align:right;">
2910
</td>
<td style="text-align:right;">
445
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
</tr>
</tbody>
</table>
<p><code>PregnantNow</code> is the most extreme example- more than 50% NA values were undefined for this column.</p>
<p>This demonstrates that the default choices that the <code>mice()</code> function makes are not always suitable for this dataset. For now, I’ll leave these new values inside the imputed dataset though.</p>
<p><a href="https://www.jstatsoft.org/index.php/jss/article/view/v045i03">According to the authors of the mice package</a> these decisions need to be made:</p>
<ol style="list-style-type: decimal">
<li>Assumption: Missing at random satisfied?</li>
<li>Target Model / intended Use of the data</li>
<li>Set of variables</li>
<li>Include dependent variables</li>
<li>Order of imputation</li>
<li>intiializations and number of iterations</li>
<li>number of imputations (how many <em>multiple</em> imputations)</li>
</ol>
<p>(TBC - imputation done better - the <code>mice</code> package is a lot more flexible and has more to offer to achieve better imputations)</p>
<pre class="r"><code>#NHANES_imp_qik &lt;- quickpred(NHANES)
NHANES_imp_qik &lt;- mice (NHANES, pred = quickpred(NHANES, minpuc = 0.25), include = &quot;Age&quot;, maxit= 1)
NHANES_imp_qik_complete &lt;- mice::complete(NHANES_imp_qik)
#table(NHANES_imp_qik_complete$PregnantNow, NHANES_imp_qik_complete$Gender)</code></pre>
<div class="alert alert-danger"><b>NOTE</b>
                The imputation process with default values onl did not really produce  meaningful values. Moreover, using ~50 columns for imputation is a bit too much.
However  my goal was to try out model selection algorithms, 
and imputing correctly was less a concern.  
                </div>
<p>However, after imputation there are no more NAs in any column of the NHANES Dataset.</p>
</div>
<div id="supplementary-materials" class="section level4">
<h4>Supplementary Materials</h4>
<p>These metadata show, for example, the unique distinct values of columns where it makes sense to report them (e.g. male/female for column “gender”).</p>
<table>
<caption>
<span id="tab:contents">Table 5: </span>NHANES Column data types, and some values of categorical variables.
</caption>
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
Levels
</th>
<th style="text-align:left;">
Storage
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Gender
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
integer
</td>
</tr>
<tr>
<td style="text-align:left;">
Age
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
integer
</td>
</tr>
<tr>
<td style="text-align:left;">
Race1
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:left;">
integer
</td>
</tr>
<tr>
<td style="text-align:left;">
Education
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:left;">
integer
</td>
</tr>
<tr>
<td style="text-align:left;">
HHIncomeMid
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
integer
</td>
</tr>
<tr>
<td style="text-align:left;">
Poverty
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
double
</td>
</tr>
<tr>
<td style="text-align:left;">
HomeRooms
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
integer
</td>
</tr>
<tr>
<td style="text-align:left;">
HomeOwn
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
integer
</td>
</tr>
<tr>
<td style="text-align:left;">
Work
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
integer
</td>
</tr>
<tr>
<td style="text-align:left;">
Weight
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
double
</td>
</tr>
<tr>
<td style="text-align:left;">
Height
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
double
</td>
</tr>
<tr>
<td style="text-align:left;">
BMI
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
double
</td>
</tr>
<tr>
<td style="text-align:left;">
Pulse
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
integer
</td>
</tr>
<tr>
<td style="text-align:left;">
BPSysAve
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
integer
</td>
</tr>
<tr>
<td style="text-align:left;">
BPDiaAve
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
integer
</td>
</tr>
<tr>
<td style="text-align:left;">
DirectChol
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
double
</td>
</tr>
<tr>
<td style="text-align:left;">
TotChol
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
double
</td>
</tr>
<tr>
<td style="text-align:left;">
UrineVol1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
integer
</td>
</tr>
<tr>
<td style="text-align:left;">
UrineFlow1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
double
</td>
</tr>
<tr>
<td style="text-align:left;">
Diabetes
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
integer
</td>
</tr>
<tr>
<td style="text-align:left;">
HealthGen
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:left;">
integer
</td>
</tr>
<tr>
<td style="text-align:left;">
DaysPhysHlthBad
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
integer
</td>
</tr>
<tr>
<td style="text-align:left;">
DaysMentHlthBad
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
integer
</td>
</tr>
<tr>
<td style="text-align:left;">
LittleInterest
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
integer
</td>
</tr>
<tr>
<td style="text-align:left;">
Depressed
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
integer
</td>
</tr>
<tr>
<td style="text-align:left;">
SleepHrsNight
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
integer
</td>
</tr>
<tr>
<td style="text-align:left;">
SleepTrouble
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
integer
</td>
</tr>
<tr>
<td style="text-align:left;">
PhysActive
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
integer
</td>
</tr>
<tr>
<td style="text-align:left;">
Alcohol12PlusYr
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
integer
</td>
</tr>
<tr>
<td style="text-align:left;">
Smoke100
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
integer
</td>
</tr>
<tr>
<td style="text-align:left;">
Smoke100n
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
integer
</td>
</tr>
<tr>
<td style="text-align:left;">
PregnantNow
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
integer
</td>
</tr>
</tbody>
</table>
<pre><code>## $Gender
## [1] &quot;female&quot; &quot;male&quot;  
## 
## $Race1
## [1] &quot;Black&quot;    &quot;Hispanic&quot; &quot;Mexican&quot;  &quot;White&quot;    &quot;Other&quot;   
## 
## $Education
## [1] &quot;8th Grade&quot;      &quot;9 - 11th Grade&quot; &quot;High School&quot;    &quot;Some College&quot;  
## [5] &quot;College Grad&quot;  
## 
## $HomeOwn
## [1] &quot;Own&quot;   &quot;Rent&quot;  &quot;Other&quot;
## 
## $Work
## [1] &quot;Looking&quot;    &quot;NotWorking&quot; &quot;Working&quot;   
## 
## $Diabetes
## [1] &quot;No&quot;  &quot;Yes&quot;
## 
## $HealthGen
## [1] &quot;Excellent&quot; &quot;Vgood&quot;     &quot;Good&quot;      &quot;Fair&quot;      &quot;Poor&quot;     
## 
## $LittleInterest
## [1] &quot;None&quot;    &quot;Several&quot; &quot;Most&quot;   
## 
## $Depressed
## LittleInterest
## 
## $SleepTrouble
## Diabetes
## 
## $PhysActive
## Diabetes
## 
## $Alcohol12PlusYr
## Diabetes
## 
## $Smoke100
## Diabetes
## 
## $Smoke100n
## [1] &quot;Non-Smoker&quot; &quot;Smoker&quot;    
## 
## $PregnantNow
## [1] &quot;Yes&quot;     &quot;No&quot;      &quot;Unknown&quot;</code></pre>
</div>
<div id="obligatory-disclaimer" class="section level4">
<h4>Obligatory Disclaimer</h4>
<p><strong>(from the NHANES Package Documentation):</strong></p>
<p><em>Please note that the data sets provided in this package are derived from the NHANES database and have been adapted for educational purposes. As such, they are NOT suitable for use as a research database.</em></p>
</div>
